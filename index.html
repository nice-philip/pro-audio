<!DOCTYPE html>

<head>
    <!--
    	Pro Audio
    	http://www.templatemo.com/preview/templatemo_429_pro_audio
    -->
    <title>Surroundio - プロフェッショナルオーディオ処理サービス</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/templatemo_style.css" rel="stylesheet" type="text/css">
    <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet">
</head>

<body>
    <div class="templatemo-header">
        <div class="templatemo-header-gradient-bg"></div>
        <div class="container">
            <h1 class="text-center text-uppercase templatemo-site-name"><span class="blue">Surround</span>io</h1>
            <nav class="hidden-xs text-center text-uppercase templatemo-nav">
                <ul class="menu-holder">
                    <li class="active"><a href="#home">ホーム</a></li>
                    <li><a href="#subscribe">予約申請</a></li>
                    <li><a href="#albums">アルバム</a></li>
                    <li><a href="#about">会社概要</a></li>
                    <li><a href="#services">サービス</a></li>
                    <li><a href="#contact">お問い合わせ</a></li>
                </ul>
            </nav>
            <div class="text-right visible-xs">
                <a href="#" id="mobile_menu">
                    <div class="hamburger-lines">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="templatemo-header-image"></div>
    <div class="container">
        <section id="home" class="templatemo-section">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <img src="images/home.png" alt="Banner" class="img-responsive center-block">
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <h2 class="text-right">High Quality</h2>
                    <h3 class="text-uppercase text-right margin-top-30">たった20,000円で</h3>
                    <h4 class="text-uppercase text-right">アルバム制作からグローバル配信まで</h4>
                    <p class="text-right margin-top-30">Surroundioは、音楽制作と配信のための無料レスポンシブテンプレートです。たった20,000円で、100万以上のデータベースに基づくAIエンジンとプロのオーディオエンジニアによる音声修復、ミキシング、マスタリングサービスを提供し、160以上のグローバルプラットフォームへの配信をサポートします。また、成長中のミュージシャンに追加特典を提供し、継続的な発展をサポートします。</p>
                    <a href="#subscribe" class="pull-right btn-gradient margin-top-30 text-uppercase">今すぐ予約</a>
                </div>
            </div>
        </section>
        <img src="images/border.png" alt="Border" class="templatemo-border">
        <section id="subscribe" class="templatemo-section">
            <h2 class="text-uppercase text-center">予約申請</h2>
            <div class="upload-section margin-top-50">
                <button onclick="openAccordion()" class="btn text-uppercase tm-dark-bg tm-orange-text tm-send-btn btn-gradient">📩 アルバム制作を申請</button>
                <a href="reservation.html" class="btn text-uppercase tm-dark-bg tm-orange-text tm-send-btn btn-gradient" style="margin-left: 20px;">🔍 予約確認</a>
            </div>
            <div id="accordionContent" style="max-height: 0; overflow: hidden; transition: max-height 0.7s ease;">
                <div class="row margin-top-50">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <form id="albumForm" class="tm-contact-form" onsubmit="handleSubmit(event)">
                            <div class="form-group">
                                <input type="text" id="name" name="name" class="form-control" placeholder="お名前..." required>
                            </div>
                            <div class="form-group">
                                <input type="number" id="age" name="age" class="form-control" placeholder="年齢..." required>
                            </div>
                            <div class="form-group">
                                <select id="gender" name="gender" class="form-control" required>
                                    <option value="">性別を選択...</option>
                                    <option value="男性">男性</option>
                                    <option value="女性">女性</option>
                                    <option value="その他">その他</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <input type="email" id="email" name="email" class="form-control" placeholder="メールアドレス..." required>
                            </div>
                            <div class="form-group">
                                <input type="text" id="date" name="date" class="form-control" placeholder="日付を選択..." required>
                            </div>
                            <div class="form-group">
                                <input type="text" id="time" name="time" class="form-control time-input" placeholder="時:分:秒" maxlength="8" required>
                                <small class="text-muted time-display">時間を入力してください (24時間制)</small>
                            </div>
                            <div class="form-group">
                                <textarea id="mainRequest" name="mainRequest" class="form-control" rows="6" placeholder="アルバム紹介 + 曲目名"></textarea>
                            </div>
                            <div class="form-group">
                                <textarea id="note" name="note" class="form-control" rows="4" placeholder="備考"></textarea>
                            </div>
                            <div class="form-group">
                                <input type="text" id="memberKey" name="memberKey" class="form-control" placeholder="予約番号(確認用)" required>
                            </div>
                            <div class="form-group">
                                <div class="file-upload-wrapper">
                                    <div class="file-select-button">ファイルを選択</div>
                                    <input type="file" id="audio" name="audio" class="form-control custom-file-input" accept=".mp3,.wav" required>
                                    <div class="file-status-wrapper">
                                        <small class="text-muted file-status">選択されたファイルはありません</small>
                                    </div>
                                </div>
                            </div>
                            <!-- PayPal Payment Section -->
                            <div class="form-group payment-section" style="margin-top: 30px;">
                                <h4 class="text-center">お支払い方法</h4>
                                <div class="price-display text-center" style="margin: 20px 0;">
                                    <span class="amount">¥20,000</span>
                                    <span class="currency">JPY</span>
                                </div>
                                <div class="payment-label text-center" style="margin-bottom: 10px;">
                                    <span>PayPalで安全に支払う</span>
                                </div>
                                <div id="paypal-button-container" class="text-center"></div>
                            </div>
                            <div class="form-group" style="margin-top: 30px;">
                                <button type="submit" id="submitButton" class="btn text-uppercase tm-dark-bg tm-orange-text tm-send-btn btn-gradient">申請完了</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <img src="images/border.png" alt="Border" class="templatemo-border">
        <section id="albums" class="templatemo-section">
            <h2 class="text-uppercase text-center">アルバム例</h2>
            <div class="row margin-top-50 templatemo-albums-container">
                <div class="col-lg-6 col-md-6 col-sm-6 templatemo-album">
                    <div class="templatemo-album-images">
                        <img src="images/albums/1.jpg" alt="Album 1" class="img-circle templatemo-album-img">
                        <img src="images/album-img-bg.png" alt="Album background" class="templatemo-album-img-bg">
                        <img src="images/circle_gray.png" alt="Album frame" class="templatemo-album-img-frame">
                        <audio id="audio1" src="audio\song1.mp3"></audio>
                        <audio id="audio2" src="audio\song2.mp3"></audio>
                        <div class="audio-player" id="player1">
                            <div class="play-pause-btn" onclick="togglePlay(1)">
                                <i class="fa fa-play"></i>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress1"></div>
                            </div>
                        </div>
                        <div class="audio-player" id="player2">
                            <div class="play-pause-btn" onclick="togglePlay(2)">
                                <i class="fa fa-play"></i>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress2"></div>
                            </div>
                        </div>
                    </div>
                    <div class="templatemo-album-description">
                        <p class="templatemo-album-name" onclick="togglePlay(1)" style="cursor: pointer;">処理前</p>
                        <p class="templatemo-album-artist" onclick="togglePlay(2)" style="cursor: pointer;">処理後</p>
                        <p class="templatemo-album-date" onclick="stopAudio(1)" style="cursor: pointer;">停止</p>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 templatemo-album">
                    <div class="templatemo-album-images">
                        <img src="images/albums/2.jpg" alt="Album 2" class="img-circle templatemo-album-img">
                        <img src="images/album-img-bg.png" alt="Album background" class="templatemo-album-img-bg">
                        <img src="images/circle_gray.png" alt="Album frame" class="templatemo-album-img-frame">
                        <audio id="audio3" src="audio\song3.mp3"></audio>
                        <audio id="audio4" src="audio\song4.mp3"></audio>
                        <div class="audio-player" id="player3">
                            <div class="play-pause-btn" onclick="togglePlay(3)">
                                <i class="fa fa-play"></i>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress3"></div>
                            </div>
                        </div>
                        <div class="audio-player" id="player4">
                            <div class="play-pause-btn" onclick="togglePlay(4)">
                                <i class="fa fa-play"></i>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress4"></div>
                            </div>
                        </div>
                    </div>
                    <div class="templatemo-album-description">
                        <p class="templatemo-album-name" onclick="togglePlay(3)" style="cursor: pointer;">処理前</p>
                        <p class="templatemo-album-artist" onclick="togglePlay(4)" style="cursor: pointer;">処理後</p>
                        <p class="templatemo-album-date" onclick="stopAudio(2)" style="cursor: pointer;">停止</p>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 templatemo-album">
                    <div class="templatemo-album-images">
                        <img src="images/albums/3.jpg" alt="Album 3" class="img-circle templatemo-album-img">
                        <img src="images/album-img-bg.png" alt="Album background" class="templatemo-album-img-bg">
                        <img src="images/circle_gray.png" alt="Album frame" class="templatemo-album-img-frame">
                        <audio id="audio5" src="audio\song5.mp3"></audio>
                        <audio id="audio6" src="audio\song6.mp3"></audio>
                        <div class="audio-player" id="player5">
                            <div class="play-pause-btn" onclick="togglePlay(5)">
                                <i class="fa fa-play"></i>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress5"></div>
                            </div>
                        </div>
                        <div class="audio-player" id="player6">
                            <div class="play-pause-btn" onclick="togglePlay(6)">
                                <i class="fa fa-play"></i>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress6"></div>
                            </div>
                        </div>
                    </div>
                    <div class="templatemo-album-description">
                        <p class="templatemo-album-name" onclick="togglePlay(5)" style="cursor: pointer;">処理前</p>
                        <p class="templatemo-album-artist" onclick="togglePlay(6)" style="cursor: pointer;">処理後</p>
                        <p class="templatemo-album-date" onclick="stopAudio(3)" style="cursor: pointer;">停止</p>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 templatemo-album">
                    <div class="templatemo-album-images">
                        <img src="images/albums/4.jpg" alt="Album 4" class="img-circle templatemo-album-img">
                        <img src="images/album-img-bg.png" alt="Album background" class="templatemo-album-img-bg">
                        <img src="images/circle_gray.png" alt="Album frame" class="templatemo-album-img-frame">
                        <audio id="audio7" src="audio\song7.mp3"></audio>
                        <audio id="audio8" src="audio\song8.mp3"></audio>
                        <div class="audio-player" id="player7">
                            <div class="play-pause-btn" onclick="togglePlay(7)">
                                <i class="fa fa-play"></i>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress7"></div>
                            </div>
                        </div>
                        <div class="audio-player" id="player8">
                            <div class="play-pause-btn" onclick="togglePlay(8)">
                                <i class="fa fa-play"></i>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress8"></div>
                            </div>
                        </div>
                    </div>
                    <div class="templatemo-album-description">
                        <p class="templatemo-album-name" onclick="togglePlay(7)" style="cursor: pointer;">処理前</p>
                        <p class="templatemo-album-artist" onclick="togglePlay(8)" style="cursor: pointer;">処理後</p>
                        <p class="templatemo-album-date" onclick="stopAudio(4)" style="cursor: pointer;">停止</p>
                    </div>
                </div>
            </div>
        </section>
        <img src="images/border.png" alt="Border" class="templatemo-border">
        <section id="about" class="templatemo-section">
            <h2 class="text-uppercase text-center">会社概要</h2>
            <div class="tm-about-img-container">
                <img src="images/about-frame.png" alt="About frame" class="tm-about-frame img-responsive">
                <img src="images/about.jpg" alt="About" class="tm-about-img img-responsive">
            </div>
            <p class="margin-top-50 text-center">Surroundioは、世界的に有名なブランドShutterstockと共同で立ち上げた新しいオーディオプラットフォームです。100万以上のプロフェッショナルマスタリングデータに基づき、あなたの音楽により明確で豊かなサウンド表現力を提供します。音声をアップロードすると、音声修復、ミキシング、マスタリングを完了し、世界160以上の音楽プラットフォームへの配信をサポートします。音声を一度アップロードするだけで、プロフェッショナルレベルの最終効果が得られます。さらに、Surroundioは成長中のミュージシャンに露出機会、協力リソース、ブランドプロモーションサポートを提供し、音楽の夢の実現をステップバイステップでサポートします。</p>
        </section>
        <img src="images/border.png" alt="Border" class="templatemo-border">
        <section id="services" class="templatemo-section">
            <h2 class="text-uppercase text-center">サービス</h2>
            <div class="row margin-top-50">
                <article class="col-lg-4 col-md-4 col-sm-4 col-xs-12 templatemo-product">
                    <img src="images/services/1.png" alt="AI Analysis" class="center-block">
                    <h3 class="text-uppercase text-center">AI精密分析</h3>
                    <p class="text-center">100万以上のマスタリングデータベースに基づく革新的なAIエンジンが、あなたの音声を深く分析・比較し、音質の弱点を智能的に識別し、プロフェッショナルレベルの音質向上と最適化処理を行います。</p>
                </article>
                <article class="col-lg-4 col-md-4 col-sm-4 col-xs-12 templatemo-product">
                    <img src="images/services/2.png" alt="Global Distribution" class="center-block">
                    <h3 class="text-uppercase text-center">ワンクリックグローバル配信</h3>
                    <p class="text-center">あなたの音楽は、Amazon Music、Spotify、テンセントミュージックなど、世界の主要プラットフォームに配信されます。Surroundioを通じて、あなたの作品は世界中のリスナーに届き、露出度を高め、真の国際化を実現します。海外配信チャネルを開拓し、時間とコストを節約し、あなたの創作により大きな影響力を与えます。</p>
                </article>
                <article class="col-lg-4 col-md-4 col-sm-4 col-xs-12 templatemo-product">
                    <img src="images/services/3.png" alt="Professional Engineers" class="center-block">
                    <h3 class="text-uppercase text-center">プロフェッショナルエンジニア</h3>
                    <p class="text-center">経験豊富なプロフェッショナルマスタリングエンジニアを招き、各作品の詳細な審査とサウンド調整を行います。細部の磨き上げから全体的な音質コントロールまで、すべて人工による精密な修正を行い、業界最高水準を確保します。</p>
                </article>
            </div>
        </section>
        <img src="images/border.png" alt="Border" class="templatemo-border">
        <section id="contact" class="templatemo-section">
            <h2 class="text-uppercase text-center">お問い合わせ</h2>
            <div class="margin-top-50">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <div id="map-canvas"></div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                    <form id="contactForm" class="tm-contact-form">
                        <div class="form-group">
                            <input type="text" id="contact_name" class="form-control" placeholder="お名前..." required />
                        </div>
                        <div class="form-group">
                            <input type="email" id="contact_email" class="form-control" placeholder="メールアドレス..." required />
                        </div>
                        <div class="form-group">
                            <input type="text" id="contact_subject" class="form-control" placeholder="件名..." required />
                        </div>
                        <div class="form-group">
                            <textarea id="contact_message" class="form-control" rows="8" placeholder="メッセージ内容..." required></textarea>
                        </div>
                        <button type="submit" class="btn text-uppercase tm-dark-bg tm-orange-text tm-send-btn btn-gradient">送信</button>
                    </form>
                </div>
            </div>
        </section>
    </div>
    <footer class="templatemo-footer margin-top-50">
        <div class="container">
            <p class="text-uppercase small templatemo-copyright">Surroundio copyright © 2022 Nationalux Canada, All rights reserved.</p>
            <img src="images/go-to-top.png" alt="Go to top" class="img-responsive tm-go-to-top">
        </div>
    </footer>
    <div id="responsive-menu" class="visible-xs">
        <ul class="menu-holder">
            <li><a href="#home"><i class="fa fa-home"></i> ホーム</a></li>
            <li><a href="#subscribe"><i class="fa fa-calendar"></i> 予約申請</a></li>
            <li><a href="#albums"><i class="fa fa-music"></i> アルバム</a></li>
            <li><a href="#about"><i class="fa fa-info-circle"></i> 会社概要</a></li>
            <li><a href="#services"><i class="fa fa-cogs"></i> サービス</a></li>
            <li><a href="#contact"><i class="fa fa-envelope"></i> お問い合わせ</a></li>
        </ul>
    </div>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="js/templatemo_script.js"></script>
    <script type="module" src="js/config.js"></script>
    <script type="module" src="js/api.js"></script>
    <script type="module" src="js/form-handler.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBQXWJ6QWnA3X0JNzeykUpFLJCPxFb68r0&callback=initMap" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=AUAys9sigvI9TtgDkQMRtQxfrXspOUiEp9CUafMtSagb2r_Av6rYByXOrkRkQIg7weOtYlGKfJMxRuK_&currency=JPY"></script>
    <style>
        .audio-player {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
            width: 80%;
            text-align: center;
            z-index: 10;
        }
        
        .play-pause-btn {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin: 0 auto 10px;
            position: relative;
        }

        .circular-progress {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(rgba(255, 102, 51, 0.3) 0deg, transparent 0deg);
            transition: background 0.1s linear;
        }
        
        .progress-bar {
            background: rgba(255, 255, 255, 0.3);
            height: 5px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress {
            background: #fff;
            height: 100%;
            width: 0;
            transition: width 0.1s linear;
        }
        
        .templatemo-album-images {
            position: relative;
        }
        
        .circular-progress-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
        }
        
        .templatemo-album-name,
        .templatemo-album-artist {
            transition: color 0.3s ease;
        }
        
        .templatemo-album-name:hover,
        .templatemo-album-artist:hover {
            color: #ff6633;
        }
        
        .templatemo-album-date {
            transition: color 0.3s ease;
        }
        
        .templatemo-album-date:hover {
            color: #ff6633;
        }
        /* モバイル最適化スタイル */
        
        @media (max-width: 767px) {
            .upload-section {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            .upload-section .btn {
                width: 100%;
                max-width: 300px;
                margin-left: 0 !important;
            }
            .templatemo-album {
                margin-bottom: 30px;
            }
            .form-group {
                margin-bottom: 15px;
            }
            #accordionContent .row {
                margin: 0;
            }
            #albumForm {
                padding: 0 15px;
            }
            .templatemo-header-image {
                height: 200px;
            }
            .templatemo-site-name {
                font-size: 24px;
                padding: 10px 0;
            }
            #responsive-menu {
                display: none;
                background: rgba(255, 255, 245, 0.9);
                position: fixed;
                width: 250px;
                height: 100%;
                z-index: 5500;
                right: -1500px;
                overflow: auto;
            }
            
            #responsive-menu ul {
                padding: 20px 10px;
                margin: 0;
                list-style: none;
                background-color: #111;
                border-radius: 8px;
            }
            
            #responsive-menu ul li {
                display: block;
                margin-bottom: 10px;
                border-radius: 8px;
                background-color: #222;
                box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                transition: background 0.3s;
            }
            
            #responsive-menu ul li:last-child {
                margin-bottom: 0;
            }
            
            #responsive-menu ul li:hover {
                background-color: #333;
            }
            
            #responsive-menu ul li a {
                display: flex;
                align-items: center;
                padding: 12px 18px;
                color: #fff;
                font-size: 16px;
                text-decoration: none;
            }
            
            #responsive-menu ul li a i {
                margin-right: 10px;
                font-size: 18px;
                width: 24px;
                text-align: center;
            }

            #mobile_menu {
                display: block;
                position: fixed;
                right: 15px;
                top: 15px;
                width: 50px;
                height: 50px;
                background-color: rgba(39, 167, 255, 0.8);
                border-radius: 4px;
                z-index: 5500;
                cursor: pointer;
            }

            #mobile_menu .hamburger-lines {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 25px;
                height: 20px;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
            }

            #mobile_menu .hamburger-lines span {
                display: block;
                width: 100%;
                height: 3px;
                background-color: white;
                border-radius: 2px;
            }
        }
        /* 時間入力スタイル */
        
        .time-input::-webkit-datetime-edit-ampm-field {
            display: none !important;
        }
        
        .time-input::-webkit-clear-button {
            display: none !important;
        }
        
        .time-input::-webkit-inner-spin-button {
            display: none !important;
        }
        
        .time-input::-webkit-calendar-picker-indicator {
            display: none !important;
        }
        /* 日付選択スタイル */
        
        #ui-datepicker-div {
            font-family: 'Open Sans', Arial, sans-serif !important;
        }
        
        .ui-datepicker-title select {
            font-family: 'Open Sans', Arial, sans-serif !important;
        }
        /* ファイルアップロード領域スタイル */
        
        .file-upload-wrapper {
            position: relative;
            min-height: 38px;
            margin-bottom: 30px;
            padding-top: 40px;
        }
        
        /* PayPal Payment Section Styles */
        .payment-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .payment-section h4 {
            color: #333;
            margin-bottom: 20px;
        }
        
        .price-display {
            font-size: 24px;
            font-weight: bold;
            color: #2d3436;
        }
        
        .price-display .currency {
            font-size: 16px;
            margin-left: 5px;
            color: #636e72;
        }
        
        .payment-label {
            color: #636e72;
            font-size: 14px;
        }
        
        #paypal-button-container {
            max-width: 300px;
            margin: 0 auto;
        }
        /* 基本カレンダー隠し */
        
        input[type="date"]::-webkit-calendar-picker-indicator {
            display: none;
        }
        
        input[type="date"]::-webkit-inner-spin-button {
            display: none;
        }
        
        input[type="date"]::-webkit-clear-button {
            display: none;
        }
        /* jQuery UIカレンダースタイルカスタマイズ */
        
        .ui-datepicker {
            font-family: 'Open Sans', Arial, sans-serif;
            font-size: 14px;
            background: #fff;
            border: 1px solid #ddd;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .ui-datepicker-header {
            background: #f8f9fa;
            border: none;
            padding: 10px;
        }
        
        .ui-datepicker-title {
            color: #333;
        }
        
        .ui-datepicker-calendar th {
            color: #666;
        }
        
        .ui-datepicker-calendar td {
            padding: 3px;
        }
        
        .ui-datepicker-calendar td a {
            text-align: center;
        }

        #map-canvas {
            width: 100%;
            height: 400px;
            border-radius: 4px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
    </style>
    <script>
        function openAccordion() {
            const content = document.getElementById('accordionContent');
            if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                content.style.maxHeight = '0px';
            } else {
                content.style.maxHeight = '2000px';
            }
        }

        async function handleSubmit(event) {
            event.preventDefault();

            const form = document.getElementById('albumForm');
            const submitButton = form.querySelector('button[type="submit"]');
            const formData = new FormData(form);

            try {
                submitButton.disabled = true;
                submitButton.textContent = '送信中...';

                // 日付フォーマット確認
                const dateValue = $("#date").datepicker("getDate");
                if (dateValue) {
                    const year = dateValue.getFullYear();
                    const month = String(dateValue.getMonth() + 1).padStart(2, '0');
                    const day = String(dateValue.getDate()).padStart(2, '0');
                    formData.set('date', `${year}年${month}月${day}日`);
                }

                // 言語設定
                formData.append('language', 'ja');

                const response = await fetch('https://pro-audio-jp-1.onrender.com/api/upload', {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                alert('アップロードが完了しました！');
                form.reset();
                document.querySelector('.file-status').textContent = '選択されたファイルはありません';
                document.querySelector('.file-select-button').textContent = 'ファイルを選択';
                
                // アコーディオンを閉じる
                document.getElementById('accordionContent').style.maxHeight = '0px';

            } catch (error) {
                console.error('Error:', error);
                alert('エラーが発生しました。もう一度お試しください。');
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = '申請完了';
            }
        }

        // Contact Form Submission
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const formData = {
                name: document.getElementById('contact_name').value,
                email: document.getElementById('contact_email').value,
                subject: document.getElementById('contact_subject').value,
                message: document.getElementById('contact_message').value
            };

            // EmailJS 초기화
            (function() {
                emailjs.init("jfle4pXv1E8FEPCJv");
            })();

            // 이메일 전송
            emailjs.send(
                "service_jsn3q06",
                "template_ha65rt7",
                {
                    to_email: "kmat0@naver.com",
                    from_name: formData.name,
                    from_email: formData.email,
                    subject: formData.subject,
                    message: formData.message,
                    language: 'zh' // 언어 식별자 추가
                }
            ).then(
                function(response) {
                    alert("消息发送成功！");
                    document.getElementById('contactForm').reset();
                },
                function(error) {
                    console.error("发送失败:", error);
                    alert("消息发送失败，请重试。");
                }
            );
        });

        // Audio Player Functionality
        let currentlyPlaying = null;
        let currentPlayer = null;
        let lastPlaybackTime = {};
        const players = {};

        function updateCircularProgress(audio, albumImage) {
            const progress = (audio.currentTime / audio.duration) * 360;
            const circularProgress = albumImage.querySelector('.circular-progress');
            if (circularProgress) {
                circularProgress.style.background = `conic-gradient(rgba(255, 102, 51, 0.3) ${progress}deg, transparent ${progress}deg)`;
            }
        }

        function stopAudio(albumId) {
            // Each album has two tracks, so we need to stop both
            const trackIds = [albumId * 2 - 1, albumId * 2];
            
            trackIds.forEach(trackId => {
                const audio = document.getElementById(`audio${trackId}`);
                const player = document.getElementById(`player${trackId}`);
                
                if (audio) {
                    // Stop and reset the audio
                    audio.pause();
                    audio.currentTime = 0;
                    
                    // Reset the player UI
                    if (player) {
                        const playIcon = player.querySelector('.play-pause-btn i');
                        const progress = player.querySelector('.progress');
                        if (playIcon) playIcon.className = 'fa fa-play';
                        if (progress) progress.style.width = '0%';
                        player.style.display = 'none';
                    }
                    
                    // Reset the circular progress
                    const albumImage = player.closest('.templatemo-album-images');
                    if (albumImage) {
                        const circularProgress = albumImage.querySelector('.circular-progress');
                        if (circularProgress) {
                            circularProgress.style.background = 'conic-gradient(rgba(255, 102, 51, 0.3) 0deg, transparent 0deg)';
                        }
                    }

                    // Reset stored playback time for this track
                    if (lastPlaybackTime[audio.id]) {
                        delete lastPlaybackTime[audio.id];
                    }

                    // Reset current playing states if this was the playing track
                    if (currentlyPlaying === audio) {
                        currentlyPlaying = null;
                        currentPlayer = null;
                    }
                }
            });
        }

        function togglePlay(id) {
            const audio = document.getElementById(`audio${id}`);
            const player = document.getElementById(`player${id}`);
            const albumImage = player.closest('.templatemo-album-images');
            const playBtn = player.querySelector('.play-pause-btn');
            const playIcon = playBtn.querySelector('i');
            const progress = document.getElementById(`progress${id}`);

            // Add circular progress container if not exists
            if (!albumImage.querySelector('.circular-progress-container')) {
                const container = document.createElement('div');
                container.className = 'circular-progress-container';
                const circularProgress = document.createElement('div');
                circularProgress.className = 'circular-progress';
                container.appendChild(circularProgress);
                albumImage.appendChild(container);
            }

            if (currentlyPlaying && currentlyPlaying !== audio) {
                // Store current time of the playing audio
                lastPlaybackTime[currentlyPlaying.id] = currentlyPlaying.currentTime;
                
                // Stop the current audio
                currentlyPlaying.pause();
                const oldPlayer = currentPlayer;
                const oldPlayIcon = oldPlayer.querySelector('.play-pause-btn i');
                oldPlayIcon.className = 'fa fa-play';
                oldPlayer.style.display = 'none';
                
                // Hide previous circular progress
                const oldAlbumImage = oldPlayer.closest('.templatemo-album-images');
                const oldCircularProgress = oldAlbumImage.querySelector('.circular-progress');
                if (oldCircularProgress) {
                    oldCircularProgress.style.background = 'conic-gradient(rgba(255, 102, 51, 0.3) 0deg, transparent 0deg)';
                }

                // Set the new audio's time to match where the previous one left off
                if (lastPlaybackTime[audio.id]) {
                    audio.currentTime = lastPlaybackTime[audio.id];
                }
            }

            if (audio.paused) {
                // If we have a stored time for this audio, use it
                if (lastPlaybackTime[audio.id]) {
                    audio.currentTime = lastPlaybackTime[audio.id];
                }
                
                audio.play();
                player.style.display = 'block';
                playIcon.className = 'fa fa-pause';
                currentlyPlaying = audio;
                currentPlayer = player;
                updateCircularProgress(audio, albumImage);
            } else {
                audio.pause();
                lastPlaybackTime[audio.id] = audio.currentTime;
                player.style.display = 'none';
                playIcon.className = 'fa fa-play';
                const circularProgress = albumImage.querySelector('.circular-progress');
                if (circularProgress) {
                    circularProgress.style.background = 'conic-gradient(rgba(255, 102, 51, 0.3) 0deg, transparent 0deg)';
                }
                currentlyPlaying = null;
                currentPlayer = null;
            }

            if (!players[id]) {
                players[id] = true;
                audio.addEventListener('timeupdate', () => {
                    const progressPercent = (audio.currentTime / audio.duration) * 100;
                    progress.style.width = `${progressPercent}%`;
                    updateCircularProgress(audio, albumImage);
                });

                audio.addEventListener('ended', () => {
                    player.style.display = 'none';
                    playIcon.className = 'fa fa-play';
                    progress.style.width = '0%';
                    const circularProgress = albumImage.querySelector('.circular-progress');
                    if (circularProgress) {
                        circularProgress.style.background = 'conic-gradient(rgba(255, 102, 51, 0.3) 0deg, transparent 0deg)';
                    }
                    currentlyPlaying = null;
                    currentPlayer = null;
                    lastPlaybackTime[audio.id] = 0;
                });
            }
        }

        // カレンダー関連テキスト変更
        const dateInput = document.getElementById('date');
        if (dateInput) {
            dateInput.addEventListener('focus', function() {
                // カレンダーの曜日名を日本語に変更
                const weekdayLabels = document.querySelectorAll('.ui-datepicker-calendar th');
                if (weekdayLabels.length) {
                    const weekdays = ['日', '月', '火', '水', '木', '金', '土'];
                    weekdayLabels.forEach((label, index) => {
                        label.textContent = weekdays[index];
                    });
                }
            });
        }

        $(document).ready(function() {
            if ($.datepicker) {
                // カレンダー設定
                $.datepicker.setDefaults({
                    dateFormat: 'yy年mm月dd日',
                    monthNames: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
                    monthNamesShort: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
                    dayNames: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
                    dayNamesShort: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],
                    dayNamesMin: ['日', '一', '二', '三', '四', '五', '六'],
                    showMonthAfterYear: true,
                    yearSuffix: '年',
                    changeMonth: true,
                    changeYear: true,
                    beforeShow: function(input, inst) {
                        inst.dpDiv.addClass('custom-datepicker');
                    }
                });

                $("#date").datepicker();
            }

            // 時間入力設定
            const timeInput = document.getElementById('time');
            if (timeInput) {
                $(timeInput).on('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');

                    // 時間、分、秒制限
                    if (value.length >= 2) {
                        let hours = value.substring(0, 2);
                        if (parseInt(hours) > 23) hours = '23';
                        value = hours + value.substring(2);
                    }
                    if (value.length >= 4) {
                        let minutes = value.substring(2, 4);
                        if (parseInt(minutes) > 59) minutes = '59';
                        value = value.substring(0, 2) + minutes + value.substring(4);
                    }
                    if (value.length >= 6) {
                        let seconds = value.substring(4, 6);
                        if (parseInt(seconds) > 59) seconds = '59';
                        value = value.substring(0, 4) + seconds;
                    }

                    // 形式指定 (HH:mm:ss)
                    let formatted = '';
                    if (value.length > 0) formatted = value.substring(0, 2);
                    if (value.length > 2) formatted += ':' + value.substring(2, 4);
                    if (value.length > 4) formatted += ':' + value.substring(4, 6);

                    e.target.value = formatted;

                    // 日本語形式表示
                    if (value.length === 6) {
                        const [h, m, s] = [value.substring(0, 2), value.substring(2, 4), value.substring(4, 6)];
                        document.querySelector('.time-display').textContent = `${h}時${m}分${s}秒`;
                    } else {
                        document.querySelector('.time-display').textContent = '時間を入力してください (24時間制)';
                    }
                });

                // フォーカスが外れると完全な形式チェック
                $(timeInput).on('blur', function(e) {
                    const value = e.target.value.replace(/\D/g, '');
                    if (value.length > 0 && value.length < 6) {
                        let padded = value.padEnd(6, '0');
                        let formatted = padded.substring(0, 2) + ':' +
                            padded.substring(2, 4) + ':' +
                            padded.substring(4, 6);
                        e.target.value = formatted;

                        const [h, m, s] = [padded.substring(0, 2), padded.substring(2, 4), padded.substring(4, 6)];
                        document.querySelector('.time-display').textContent = `${h}時${m}分${s}秒`;
                    }
                });
            }

            // ファイル選択イベント
            const fileInput = document.getElementById('audio');
            if (fileInput) {
                fileInput.addEventListener('change', function(e) {
                    const fileName = e.target.files[0]?.name;
                    const statusElement = document.querySelector('.file-status');
                    statusElement.textContent = fileName || '選択されたファイルはありません';

                    // ファイルが選択されるとボタンテキスト変更
                    const buttonElement = document.querySelector('.file-select-button');
                    buttonElement.textContent = fileName ? 'ファイルを変更' : 'ファイルを選択';
                });
            }

            // 모바일 메뉴 토글
            $('#mobile_menu').on('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                $('#responsive-menu').show().animate({right: 0});
            });

            // 메뉴 항목 클릭시 메뉴 닫기
            $('#responsive-menu a').on('click', function() {
                $('#responsive-menu').animate({right: -1500}, function() {
                    $(this).hide();
                });
            });

            // 메뉴 외부 클릭시 닫기
            $('body').on('click', function(e) {
                if (!$(e.target).closest('#mobile_menu').length && !$(e.target).closest('#responsive-menu').length) {
                    if ($('#responsive-menu').is(':visible')) {
                        $('#responsive-menu').animate({right: -1500}, function() {
                            $(this).hide();
                        });
                    }
                }
            });

            // 창 크기 변경시 처리
            $(window).on('load resize', function() {
                if ($(window).width() > 768) {
                    $('#responsive-menu').css({right: -1500}).hide();
                }
            });

            // PayPal Button Initialization
            paypal.Buttons({
                style: {
                    layout: 'vertical',
                    color:  'blue',
                    shape:  'rect',
                    label:  'paypal'
                },
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: '20000',
                                currency_code: 'JPY'
                            },
                            description: 'Surroundio オーディオ処理サービス'
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        // 支払い成功時の処理
                        alert('お支払いが完了しました！ご利用ありがとうございます。');
                    });
                },
                onError: function(err) {
                    // エラー発生時の処理
                    alert('お支払い処理中にエラーが発生しました。もう一度お試しください。');
                    console.error('PayPal Error:', err);
                }
            }).render('#paypal-button-container');
        });

        // Google Maps初期化
        function initMap() {
            // 希望する位置の緯度と経度を設定
            const location = { lat: 37.5665, lng: 126.9780 }; // 例座標 (ソウル)
            
            // 地図スタイル設定
            const mapStyles = [
                {
                    "featureType": "all",
                    "elementType": "geometry",
                    "stylers": [{"saturation": -100}, {"lightness": 50}]
                },
                {
                    "featureType": "road",
                    "elementType": "geometry",
                    "stylers": [{"lightness": 100}]
                }
            ];

            // 地図オプション設定
            const mapOptions = {
                center: location,
                zoom: 15,
                styles: mapStyles,
                disableDefaultUI: true,
                zoomControl: true
            };

            // 地図生成
            const map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

            // マーカー追加
            const marker = new google.maps.Marker({
                position: location,
                map: map,
                animation: google.maps.Animation.DROP,
                title: 'Surroundio'
            });

            // 情報ウィンドウ内容
            const contentString = 
                '<div style="padding: 15px; max-width: 200px;">' +
                '<h4 style="margin: 0 0 10px;">Surroundio</h4>' +
                '<p style="margin: 0;">プロフェッショナルオーディオ処理と配信サービス</p>' +
                '</div>';

            // 情報ウィンドウ生成
            const infowindow = new google.maps.InfoWindow({
                content: contentString
            });

            // マーカークリック時情報ウィンドウ表示
            marker.addListener('click', () => {
                infowindow.open(map, marker);
            });
        }

        // ページロード時地図初期化
        google.maps.event.addDomListener(window, 'load', initMap);
    </script>
</body>

</html>